# Highway Environment

基于 Python/Gym 实现的高速公路环境仿真。该环境模拟了一个4车道高速公路场景，支持多车辆交互、车道变换等行为。

## 项目结构

## 环境参数

### 道路参数 (表2-2, 2-3)
- 道路等级：高速公路
- 车道数：≥4
- 设计速度：80-120km/h
- 车道宽度：3.75m
- 道路长度：1000m

### 车辆参数 (表2-4)
- 车辆长度：5.0m
- 车辆宽度：1.8m
- 最大行驶速度：120km/h
- 采样时间：1s
- 仿真频率：10Hz

### 交通流参数
- NPC车辆数量：8
- 车速范围：80-120km/h
- 初始车速：90km/h
- 车辆生成距离：50m

### 行为模型
1. IDM模型参数 (表2-1)：
   - 最大加速度：5.0m/s²
   - 舒适减速度：4.0m/s²
   - 安全车头时距：1.5s
   - 最小安全距离：1.5m
   - 加速度指数：4.0

2. MOBIL模型参数：
   - 礼让因子：0.5
   - 安全阈值：-4.0m/s²
   - 换道阈值：0.1m/s²
   - 换道冷却时间：2.0s

### 观察空间 (图2-11)
- 观察范围：100m
- 最大观察车辆数：8
- 特征维度：
  - presence：车辆是否存在
  - x, y：位置坐标
  - vx, vy：速度分量
  - heading：航向角

### 动作空间
- 连续动作空间：[加速度, 转向角]
- 加速度范围：[-5.0, 5.0] m/s²
- 转向角范围：[-π/4, π/4] rad

### 奖励函数 (表2-5)
- 碰撞惩罚：-10 + v/12（发生碰撞时）
- 速度奖励：1/12 * [-2,10]
- 时间惩罚：-t/400
- 完成奖励：5
- 动作惩罚：1

## 安装

1. 创建虚拟环境：

## 环境说明

### 主车控制
- 初始位置：第二条车道
- 初始速度：90km/h
- 控制方式：连续动作空间
  - 加速度控制
  - 转向角控制

### NPC车辆行为
1. 纵向控制（IDM模型）：
   - 根据前车距离和相对速度调整加速度
   - 保持安全车头距离
   - 遵守速度限制

2. 横向控制（MOBIL模型）：
   - 安全性检查：确保换道安全
   - 效率评估：计算换道收益
   - 礼让行为：考虑其他车辆影响
   - 换道冷却：避免频繁换道

### 渲染设置
- 窗口大小：800x600
- 缩放比例：10像素/米
- 刷新频率：15FPS
- 显示内容：
  - 道路和车道线
  - 车辆位置和大小
  - 速度信息

